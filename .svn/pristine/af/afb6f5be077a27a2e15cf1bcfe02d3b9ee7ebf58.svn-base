package Kinect;
import processing.core.PImage;
import SimpleOpenNI.SimpleOpenNI;

public class DrawScene implements DrawStrategy {
	
	SimpleOpenNI con;
	PImage input;
	PImage output;
	int kin_img1[];


	@Override
	public PImage draw(SimpleOpenNI context) {
		context.update();
		input = context.sceneImage();
		output = new PImage(640, 480);

		// Resize Bug Solve
		kin_img1 = new int[640 * 480];
		for (int ix = 0; ix < 640; ix++) {
			for (int iy = 0; iy < 480; iy++) {
				kin_img1[(ix * 480) + iy] = input.get(ix, iy);

			}
		}

		for (int ix = 0; ix < 640; ix++) {
			for (int iy = 0; iy < 480; iy++) {
				output.set(640 - ix, iy, kin_img1[(ix * 480) + iy]);
			}
		}

		output.resize(24, 24);

		return output;

	}

}
